<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Gallery</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 8px 16px;
            background: #0066cc;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background 0.3s;
        }

        .back-link:hover {
            background: #0052a3;
        }

        .gallery-container {
            margin-bottom: 20px;
        }

        .folder-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            padding: 12px 18px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #0066cc;
            border-radius: 8px;
            margin: 20px 0 10px 0;
            transition: all 0.3s ease;
        }

        .folder-header:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,102,204,0.15);
        }

        .folder-title {
            font-size: 1.4em;
            color: #333;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .folder-arrow {
            font-size: 1.2em;
            color: #0066cc;
            transition: transform 0.3s ease;
        }

        .folder-arrow.open {
            transform: rotate(90deg);
        }

        .photo-count {
            background: #0066cc;
            color: white;
            padding: 3px 10px;
            border-radius: 16px;
            font-size: 0.85em;
            font-weight: 500;
        }

        .gallery-content {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.5s ease, opacity 0.3s ease;
        }

        .gallery-content.open {
            max-height: 10000px;
            opacity: 1;
            transition: max-height 0.5s ease, opacity 0.5s ease;
        }

        .photo-gallery {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          grid-auto-rows: 220px;
          grid-gap: 2px;
          margin: 20px 0;
          padding: 10px 0;
        }

        .photo-item {
          position: relative;
          overflow: hidden;
          border-radius: 12px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.15);
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          cursor: pointer;
          background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
        }

        .photo-item:nth-child(3n+1) {
          grid-row: span 2;
        }

        .photo-item:nth-child(4n+2) {
          grid-column: span 2;
        }

        .photo-item:nth-child(5n) {
          grid-row: span 1;
          grid-column: span 1;
        }

        .photo-item:nth-child(7n+3) {
          grid-row: span 1;
          grid-column: span 2;
        }

        .photo-item:nth-child(8n+4) {
          grid-row: span 2;
          grid-column: span 1;
        }

        .photo-item img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          display: block;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          filter: brightness(0.95);
        }

        .photo-item:hover {
          transform: translateY(-8px) scale(1.02);
          box-shadow: 0 12px 40px rgba(0,0,0,0.25);
          z-index: 10;
        }

        .photo-item:hover img {
          filter: brightness(1.05);
          transform: scale(1.1);
        }

        .photo-item::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg,
            rgba(255,255,255,0.1) 0%,
            rgba(255,255,255,0) 50%,
            rgba(0,0,0,0.1) 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
        }

        .photo-item:hover::before {
          opacity: 1;
        }

        @media (max-width: 768px) {
          .photo-gallery {
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            grid-auto-rows: 180px;
            grid-gap: 2px;
            margin: 15px 0;
            padding: 8px 0;
          }

          .photo-item:nth-child(3n+1),
          .photo-item:nth-child(4n+2),
          .photo-item:nth-child(5n),
          .photo-item:nth-child(7n+3),
          .photo-item:nth-child(8n+4) {
            grid-row: span 1;
            grid-column: span 1;
          }
        }

        @media (max-width: 480px) {
          .photo-gallery {
            grid-template-columns: 1fr;
            grid-auto-rows: 220px;
            grid-gap: 2px;
            margin: 15px 0;
            padding: 8px 0;
          }
        }
    </style>
</head>

<body>
    <a href="/" class="back-link">‚Üê Back to Home</a>

    <!-- Animals -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('animals')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="animals-arrow">‚ñ∂</span>
                üêæ Animals
            </h2>
            <span class="photo-count" id="animals-count">23 photos</span>
        </div>
        <div class="gallery-content" id="animals-content">
            <div class="photo-gallery" id="animals-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Shanghai -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('shanghai')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="shanghai-arrow">‚ñ∂</span>
                üèôÔ∏è ‰∏äÊµ∑ (Shanghai)
            </h2>
            <span class="photo-count" id="shanghai-count">25 photos</span>
        </div>
        <div class="gallery-content" id="shanghai-content">
            <div class="photo-gallery" id="shanghai-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Jiu Zhai Gou -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('jiu-zhai-gou')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="jiu-zhai-gou-arrow">‚ñ∂</span>
                üèîÔ∏è ‰πùÂØ®Ê≤ü (Jiu Zhai Gou)
            </h2>
            <span class="photo-count" id="jiu-zhai-gou-count">20 photos</span>
        </div>
        <div class="gallery-content" id="jiu-zhai-gou-content">
            <div class="photo-gallery" id="jiu-zhai-gou-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Zhang Jia Jie -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('zhang-jia-jie')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="zhang-jia-jie-arrow">‚ñ∂</span>
                üèîÔ∏è Âº†ÂÆ∂Áïå (Zhang Jia Jie)
            </h2>
            <span class="photo-count" id="zhang-jia-jie-count">13 photos</span>
        </div>
        <div class="gallery-content" id="zhang-jia-jie-content">
            <div class="photo-gallery" id="zhang-jia-jie-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Hu Pao Gong Yuan -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('hu-pao-gong-yuan')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="hu-pao-gong-yuan-arrow">‚ñ∂</span>
                üå∏ ËôéË∑ëÂÖ¨Âõ≠ (Hu Pao Gong Yuan)
            </h2>
            <span class="photo-count" id="hu-pao-gong-yuan-count">14 photos</span>
        </div>
        <div class="gallery-content" id="hu-pao-gong-yuan-content">
            <div class="photo-gallery" id="hu-pao-gong-yuan-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Gong Qing Sen Lin Gong Yuan -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('gong-qing-sen-lin-gong-yuan')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="gong-qing-sen-lin-gong-yuan-arrow">‚ñ∂</span>
                üå≥ ÂÖ±ÈùíÊ£ÆÊûóÂÖ¨Âõ≠ (Gong Qing Sen Lin Gong Yuan)
            </h2>
            <span class="photo-count" id="gong-qing-sen-lin-gong-yuan-count">10 photos</span>
        </div>
        <div class="gallery-content" id="gong-qing-sen-lin-gong-yuan-content">
            <div class="photo-gallery" id="gong-qing-sen-lin-gong-yuan-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Nan Xun Gu Zhen -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('nan-xun-gu-zhen')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="nan-xun-gu-zhen-arrow">‚ñ∂</span>
                üèõÔ∏è ÂçóÊµîÂè§Èïá (Nan Xun Gu Zhen)
            </h2>
            <span class="photo-count" id="nan-xun-gu-zhen-count">10 photos</span>
        </div>
        <div class="gallery-content" id="nan-xun-gu-zhen-content">
            <div class="photo-gallery" id="nan-xun-gu-zhen-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Qian Dao Hu -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('qian-dao-hu')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="qian-dao-hu-arrow">‚ñ∂</span>
                üèûÔ∏è ÂçÉÂ≤õÊπñ (Qian Dao Hu)
            </h2>
            <span class="photo-count" id="qian-dao-hu-count">10 photos</span>
        </div>
        <div class="gallery-content" id="qian-dao-hu-content">
            <div class="photo-gallery" id="qian-dao-hu-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Shi Ji Gong Yuan -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('shi-ji-gong-yuan')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="shi-ji-gong-yuan-arrow">‚ñ∂</span>
                üå∏ ‰∏ñÁ∫™ÂÖ¨Âõ≠ (Shi Ji Gong Yuan)
            </h2>
            <span class="photo-count" id="shi-ji-gong-yuan-count">8 photos</span>
        </div>
        <div class="gallery-content" id="shi-ji-gong-yuan-content">
            <div class="photo-gallery" id="shi-ji-gong-yuan-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Ao Men -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('ao-men')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="ao-men-arrow">‚ñ∂</span>
                üé∞ Êæ≥Èó® (Ao Men)
            </h2>
            <span class="photo-count" id="ao-men-count">7 photos</span>
        </div>
        <div class="gallery-content" id="ao-men-content">
            <div class="photo-gallery" id="ao-men-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Zhu Jia Jiao Gu Zhen -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('zhu-jia-jiao-gu-zhen')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="zhu-jia-jiao-gu-zhen-arrow">‚ñ∂</span>
                üèõÔ∏è Êú±ÂÆ∂ËßíÂè§Èïá (Zhu Jia Jiao Gu Zhen)
            </h2>
            <span class="photo-count" id="zhu-jia-jiao-gu-zhen-count">6 photos</span>
        </div>
        <div class="gallery-content" id="zhu-jia-jiao-gu-zhen-content">
            <div class="photo-gallery" id="zhu-jia-jiao-gu-zhen-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- On Road -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('on-road')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="on-road-arrow">‚ñ∂</span>
                üõ£Ô∏è On Road
            </h2>
            <span class="photo-count" id="on-road-count">4 photos</span>
        </div>
        <div class="gallery-content" id="on-road-content">
            <div class="photo-gallery" id="on-road-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Guitar -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('guitar')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="guitar-arrow">‚ñ∂</span>
                üé∏ Guitar
            </h2>
            <span class="photo-count" id="guitar-count">3 photos</span>
        </div>
        <div class="gallery-content" id="guitar-content">
            <div class="photo-gallery" id="guitar-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Yang Cheng Hu -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('yang-cheng-hu')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="yang-cheng-hu-arrow">‚ñ∂</span>
                üåä Èò≥ÊæÑÊπñ (Yang Cheng Hu)
            </h2>
            <span class="photo-count" id="yang-cheng-hu-count">3 photos</span>
        </div>
        <div class="gallery-content" id="yang-cheng-hu-content">
            <div class="photo-gallery" id="yang-cheng-hu-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Zhu Hai -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('zhu-hai')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="zhu-hai-arrow">‚ñ∂</span>
                üåä Áè†Êµ∑ (Zhu Hai)
            </h2>
            <span class="photo-count" id="zhu-hai-count">3 photos</span>
        </div>
        <div class="gallery-content" id="zhu-hai-content">
            <div class="photo-gallery" id="zhu-hai-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Others -->
    <div class="gallery-container">
        <div class="folder-header" onclick="toggleFolder('others')">
            <h2 class="folder-title">
                <span class="folder-arrow" id="others-arrow">‚ñ∂</span>
                üì∑ Others
            </h2>
            <span class="photo-count" id="others-count">2 photos</span>
        </div>
        <div class="gallery-content" id="others-content">
            <div class="photo-gallery" id="others-gallery">
                <!-- Photos will be loaded here -->
            </div>
        </div>
    </div>

    <script>
      // Toggle folder open/close
      function toggleFolder(folderId) {
        const content = document.getElementById(folderId + '-content');
        const arrow = document.getElementById(folderId + '-arrow');

        if (content.classList.contains('open')) {
          content.classList.remove('open');
          arrow.classList.remove('open');
        } else {
          content.classList.add('open');
          arrow.classList.add('open');
        }
      }

      document.addEventListener('DOMContentLoaded', function() {
        // Function to create photo items
        function createPhotoItem(src) {
          const div = document.createElement('div');
          div.className = 'photo-item';

          const img = document.createElement('img');
          img.src = src;
          img.alt = src.split('/').pop();

          div.appendChild(img);

          // Add click functionality
          div.addEventListener('click', function() {
            createLightbox(src);
          });

          return div;
        }

        // Function to create lightbox
        function createLightbox(src) {
          const lightbox = document.createElement('div');
          lightbox.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            cursor: pointer;
            backdrop-filter: blur(10px);
          `;

          const lightboxImg = document.createElement('img');
          lightboxImg.src = src;
          lightboxImg.style.cssText = `
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: fadeInScale 0.3s ease;
          `;

          lightbox.appendChild(lightboxImg);
          document.body.appendChild(lightbox);

          // Add fade in animation
          const style = document.createElement('style');
          style.textContent = `
            @keyframes fadeInScale {
              from {
                opacity: 0;
                transform: scale(0.8);
              }
              to {
                opacity: 1;
                transform: scale(1);
              }
            }
          `;
          document.head.appendChild(style);

          // Close on click
          lightbox.addEventListener('click', function() {
            lightbox.style.animation = 'fadeOutScale 0.3s ease';
            setTimeout(() => {
              document.body.removeChild(lightbox);
              document.head.removeChild(style);
            }, 300);
          });
        }

        // Load photos into galleries
        function loadGallery(folderId, folderPath) {
          const gallery = document.getElementById(folderId + '-gallery');

          // Get list of photos from folder
          fetch(`photos/${folderPath}/`)
            .then(response => response.text())
            .then(html => {
              const parser = new DOMParser();
              const doc = parser.parseFromString(html, 'text/html');
              const links = doc.querySelectorAll('a[href$=".jpg"], a[href$=".JPG"], a[href$=".HEIC"]');

              links.forEach(link => {
                const imgPath = `photos/${folderPath}/${link.getAttribute('href')}`;
                gallery.appendChild(createPhotoItem(imgPath));
              });
            })
            .catch(error => {
              console.log('Folder not accessible:', error);
            });
        }

        
        // Initialize galleries
        loadGallery('animals', 'animals');
        loadGallery('shanghai', 'shang hai');
        loadGallery('jiu-zhai-gou', 'jiu zhai gou');
        loadGallery('zhang-jia-jie', 'zhang jia jie');
        loadGallery('hu-pao-gong-yuan', 'hu pao gong yuan');
        loadGallery('gong-qing-sen-lin-gong-yuan', 'gong qing sen lin gong yuan');
        loadGallery('nan-xun-gu-zhen', 'nan xun gu zhen');
        loadGallery('qian-dao-hu', 'qian dao hu');
        loadGallery('shi-ji-gong-yuan', 'shi ji gong yuan');
        loadGallery('ao-men', 'ao men');
        loadGallery('zhu-jia-jiao-gu-zhen', 'zhu jia jiao gu zhen');
        loadGallery('on-road', 'on road');
        loadGallery('guitar', 'guitar');
        loadGallery('yang-cheng-hu', 'yang cheng hu');
        loadGallery('zhu-hai', 'zhu hai');
        loadGallery('others', 'others');

        // Add close animation
        const closeStyle = document.createElement('style');
        closeStyle.textContent = `
          @keyframes fadeOutScale {
            from {
              opacity: 1;
              transform: scale(1);
            }
            to {
              opacity: 0;
              transform: scale(0.8);
            }
          }
        `;
        document.head.appendChild(closeStyle);
      });
    </script>

</body>
</html>